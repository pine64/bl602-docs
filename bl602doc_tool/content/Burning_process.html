

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Dev Cube introduction &mdash; BL602 IoT SDK (Pine64 fork)  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> BL602 IoT SDK (Pine64 fork)
          

          
          </a>

          
            
            
              <div class="version">
                release_bl_iot_sdk_1.6.11-1-g66bb28da-pine64
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Developer_Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Developer_Environment/Developer_Environment.html">1. Developer Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer_Environment/BLFlashEnv/BLFlashEnv.html">2. BLFlashEnv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer_Environment/freedom_studio/freedom_studio.html">3. Freedom Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer_Environment/eclipse/eclipse.html">4. Eclipse</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/helloworld/helloworld.html">1. Helloword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_aws/aws.html">2. aws</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_peripherals_gpio/GPIO.html">3. GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_peripherals_uart_echo/uart_echo.html">4. UART_echo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_peripherals_uart_ioctl/uart_ioctl.html">5. UART_ioctl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_protocols_http/http.html">6. Http client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_protocols_httpc/httpc.html">7. Httpc client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_storage_psm/psm.html">8. PSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_storage_romfs/romfs.html">9. Romfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_system_cli/cli.html">10. cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_system_fdt/fdt.html">11. FDT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_wifi/wifi.html">12. WiFi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_ble/ble.html">13. BLE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_mesh/mesh.html">14. Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/demo_blsync_ble/blsync_ble.html">15. BLSYNC-BLE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/sdk_app_easyflash_boottimes/easyflash_boottimes.html">16. Easyflash4 boot times</a></li>
</ul>
<p class="caption"><span class="caption-text">Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Components/arch.html">1. arch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Command_line/helper.html">2. helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Command_line/aos_cli.html">3. cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Hal_drv/gpio.html">4. GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/bloop/bloop.html">5. BLOOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/blsync/blsync.html">6. BLSYNC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/dts/devicetree.html">7. device tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/log/blog.html">8. blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/security/security.html">9. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/vfs/vfs.html">10. AOS VFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Middleware/yloop/yloop.html">11. yloop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Network/httpc/httpc.html">12. HTTPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Network/https/https.html">13. HTTPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/Network/tls/tls.html">14. TLS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/BLE/provision_WiFi/provision_WiFi.html">15. Provision_WiFi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/BLE/mesh/mesh.html">16. Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Components/BLE/ble_stack/ble_stack.html">17. BLE</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../API/sys/cronalarms.html">1. cronalarms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../API/wifi/wifi_mgmr.html">2. Wi-Fi Manager</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BL602 IoT SDK (Pine64 fork)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">1. </span>Dev Cube introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/bl602doc_tool/content/Burning_process.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dev-cube-introduction">
<h1><span class="section-number">1. </span>Dev Cube introduction<a class="headerlink" href="#dev-cube-introduction" title="Permalink to this headline">¶</a></h1>
<p>Dev Cube is a chip integration development tool provided by Broadstream/BOLU (?), including IOT program download, MCU program download and RF performance test. This document mainly introduces the configuration of IOT and MCU program download, and RF performance test, please refer to RF performance test manual.</p>
<p>Dev Cube provides users with the ability to download programs, and supports parameters such as clock, flash, etc. Users can decide whether to encrypt the program, add signatures, replace the program start information file, user resource files, partition tables and other functional configurations according to their own needs.</p>
<p>The concrete functions are as follows：</p>
<ol class="arabic simple">
<li><p>support the download of IOT applications and MCU applications</p></li>
<li><p>support erase, write, read for different models of Flash.</p></li>
<li><p>The ability to download various types of files to Flash and verify and read them back.</p></li>
<li><p>The download communication interface supports both UART and JLink.</p></li>
</ol>
<p>Users can get the latest version of the Dev Cube from <a class="reference external" href="https://dev.bouffalolab.com/download">Bouffalo Lab Dev Cube</a>.
Double click on <code class="docutils literal notranslate"><span class="pre">BLDevCube.exe</span></code> in the unzipped folder, select the corresponding chip model in the <code class="docutils literal notranslate"><span class="pre">Chip</span> <span class="pre">Selection''</span> <span class="pre">dialog</span> <span class="pre">box,</span> <span class="pre">and</span> <span class="pre">click</span> <span class="pre">``Finish</span></code> to enter the Dev Cube main interface.</p>
<div class="figure align-center" id="id2">
<img alt="../../_images/chipselection.png" src="../../_images/chipselection.png" />
<p class="caption"><span class="caption-text">Chip selection</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="image-composition">
<h1><span class="section-number">2. </span>Image Composition<a class="headerlink" href="#image-composition" title="Permalink to this headline">¶</a></h1>
<p>Whether it is an IOT program download or an MCU program download, their image composition is the same, as shown in the following figure.</p>
<div class="figure align-center" id="id3">
<img alt="../../_images/tool2.png" src="../../_images/tool2.png" />
<p class="caption"><span class="caption-text">The Downloaded Content Layout</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>After downloading, the application does not yet work properly with the chip. The boot info must be downloaded to the specified location. The boot info contains the configuration of the PLL, Boot, Flash, etc.; the firmware is an application written by the user.</p>
<p>For example, to download a single-core file, select the corresponding parameters according to your needs, and burn the configuration information of PLL and Flash into the address corresponding to <code class="docutils literal notranslate"><span class="pre">Bootinfo</span> <span class="pre">Addr</span></code>, and burn the compiled bin file of the application into the address corresponding to <code class="docutils literal notranslate"><span class="pre">Image</span> <span class="pre">Addr</span></code>.</p>
</div>
<div class="section" id="mcu-program-download">
<h1><span class="section-number">3. </span>MCU Program Download<a class="headerlink" href="#mcu-program-download" title="Permalink to this headline">¶</a></h1>
<p>Under the <code class="docutils literal notranslate"><span class="pre">View</span></code> menu, select the MCU option to open the MCU program download interface, which is mainly divided into the configuration of program download method, configuration of image parameters and configuration of advanced image parameters.</p>
<div class="section" id="configuring-the-program-download-method">
<h2><span class="section-number">3.1. </span>Configuring the program download method<a class="headerlink" href="#configuring-the-program-download-method" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Configuration parameters include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Interface: the communication interface to select the program, here select Uart for downloading.</p></li>
<li><p>COM Port: When you select UART to download, select the COM port connected to the chip and click Refresh button to refresh the COM port.</p></li>
<li><p>Uart Speed: fill in the baud rate when you select UART for downloading, the recommended download frequency is 2MHz, not too high.</p></li>
<li><p>Chip Erase: the default setting is False, i.e. no Flash erase when downloading.</p></li>
<li><p>Xtal: used to select the type of crystal used for the board.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="figure align-center" id="id4">
<img alt="../../_images/tool5.png" src="../../_images/tool5.png" />
<p class="caption"><span class="caption-text">MCU program download method selection interface</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-image-parameters">
<h2><span class="section-number">3.2. </span>Configuring image parameters<a class="headerlink" href="#configuring-image-parameters" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Configuration parameters include.</p>
<blockquote>
<div><ul class="simple">
<li><p>Boot Source: default is Flash</p></li>
<li><p>BootInfo Addr: address of Flash program start parameters, fill in 0x0</p></li>
<li><p>Image Type: default is SingleCPU</p></li>
<li><p>Image Addr: the address of the application, please fill in 0x2000 or later.</p></li>
<li><p>Image File: add the path of the compiled bin file to the Image File.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="figure align-center" id="id5">
<img alt="../../_images/tool9.png" src="../../_images/tool9.png" />
<p class="caption"><span class="caption-text">Mirroring parameter selection interface</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-advanced-image-parameters">
<h2><span class="section-number">3.3. </span>Configuring advanced image parameters<a class="headerlink" href="#configuring-advanced-image-parameters" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>When <code class="docutils literal notranslate"><span class="pre">click</span> <span class="pre">here</span> <span class="pre">to</span> <span class="pre">show</span> <span class="pre">advanced</span> <span class="pre">options</span></code>, advanced image configuration is expanded, with configurable parameters including:</p>
<blockquote>
<div><ul class="simple">
<li><p>Flash Clock: default is XTAL</p></li>
<li><p>PLL : PLL clock configuration, default 160M</p></li>
<li><p>CacheWayDis : buffer channel disable, default is none</p></li>
<li><p>Sign : Select if ECC is needed or not, default is none.</p></li>
<li><p>CrcIgnore : If or not CRC check is needed. If the parameter is False, the CRC check is required; if the parameter is True, the CRC check is not required.</p></li>
<li><p>HashIgnore : If or not need to do a hash check. If the parameter is False, you need to do a hash check; if the parameter is True, you don’t need to do a hash check.</p></li>
<li><p>Encrypt : Select the encryption method and enter the corresponding value in AES Key and AES IV according to the AES encryption method.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="figure align-center" id="id6">
<img alt="../../_images/tool10.png" src="../../_images/tool10.png" />
<p class="caption"><span class="caption-text">Advanced image parameter selection interface</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="download-program">
<h2><span class="section-number">3.4. </span>Download program<a class="headerlink" href="#download-program" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Keep the board’s BOOT pin high, and make the chip reset so that it is in the UART boot download state. Click on <code class="docutils literal notranslate"><span class="pre">Creat&amp;Program</span></code>, it will automatically generate the application image and startup parameter configuration file, the following log message appears, the program download is successful</p></li>
</ul>
<div class="figure align-center" id="id7">
<img alt="../../_images/tool6.png" src="../../_images/tool6.png" />
<p class="caption"><span class="caption-text">Program Download</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the board is not connected, simply generate the application image and startup parameter profile,  by clicking the <code class="docutils literal notranslate"><span class="pre">Creat&amp;Program</span></code> button.</p>
</div>
<ul class="simple">
<li><p>After a successful download, the board’s BOOT pin is kept low and the chip is made to reset to boot from Flash. This example sends a string message to the PC at 2M baud rate.</p></li>
</ul>
<div class="figure align-center" id="id8">
<img alt="../../_images/tool7.png" src="../../_images/tool7.png" />
<p class="caption"><span class="caption-text">log information</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="iot-program-download">
<h1><span class="section-number">4. </span>IOT program download<a class="headerlink" href="#iot-program-download" title="Permalink to this headline">¶</a></h1>
<p>In the <code class="docutils literal notranslate"><span class="pre">View</span></code> menu, select the IOT option to enter the IOT program download interface, which is mainly divided into the configuration of program download method and download parameters.</p>
<div class="section" id="configuration-program-download-method">
<h2><span class="section-number">4.1. </span>Configuration program download method<a class="headerlink" href="#configuration-program-download-method" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Configuration parameters include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Interface: the communication interface to select the program, here select Uart for downloading.</p></li>
<li><p>COM Port: When you select UART to download, select the COM port which is connected to the chip and click Refresh button to refresh the COM port.</p></li>
<li><p>Uart Rate: fill in the baud rate when you select UART for downloading, the recommended download frequency is 2MHz, not too high.</p></li>
<li><p>Board: select the board type to be used, in this case IoTKitA, once the board is selected, Xtal will automatically update it to the default values that match the board.</p></li>
<li><p>Xtal: select the frequency of the crystal during download, if the board does not have a soldered crystal, here should be elected internal RC32M clock source</p></li>
<li><p>Chip Erase is set to False by default, which means that Flash is not erased on download.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="figure align-center" id="id9">
<img alt="../../_images/iot1.png" src="../../_images/iot1.png" />
<p class="caption"><span class="caption-text">IOT program download method selection interface</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuration-download-parameters">
<h2><span class="section-number">4.2. </span>Configuration download parameters<a class="headerlink" href="#configuration-download-parameters" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Configuration parameters include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Partition Table: Use the partition table in the partition folder of the corresponding chip model in the Dev Cube directory, default is 2M.</p></li>
<li><p>Boot2 Bin: It is the first Flash program that runs after system boot up, and is responsible for setting up the BLSP security environment and guiding the main program to run, using the Boot2 file in the builtin_imgs folder of the corresponding chip model in the Dev Cube directory.</p></li>
<li><p>Firmware Bin: the path to the bin file generated by the user’s compilation.</p></li>
<li><p>Media/Romfs: choose one of Media and Romfs, if Media is checked, the file is selected, if Romfs is checked, the folder is selected</p></li>
<li><p>MFG Bin: selection of MFG files</p></li>
<li><p>AES-Encrypt: To use the encryption function, select the AES-Encrypt option, and enter the Key and IV for encryption in the text box next to it. “, a Byte consists of two characters, so Key and IV each require 32 characters to be entered. Note that the last 8 characters of the IV (i.e. 4 Bytes) must be all 0!</p></li>
<li><p>Single Download Config: If Enable is checked, a single file can be downloaded, fill in the starting address of the download in the left text box, and start with 0x.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="figure align-center" id="id10">
<img alt="../../_images/iot2.png" src="../../_images/iot2.png" />
<p class="caption"><span class="caption-text">Download parameter selection interface</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="id1">
<h2><span class="section-number">4.3. </span>Download program<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Keep the board’s BOOT pin high, and make the chip reset so that it is in the UART boot download state. Click <code class="docutils literal notranslate"><span class="pre">Creat&amp;Download</span></code>, the application image and startup parameter configuration file will be generated automatically, the following log message appears, the program download is successful</p></li>
</ul>
<div class="figure align-center" id="id11">
<img alt="../../_images/iot3.png" src="../../_images/iot3.png" />
<p class="caption"><span class="caption-text">IOT Downloader</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the board is not connected, simply generate the application image and startup parameter profile,  by clicking the <code class="docutils literal notranslate"><span class="pre">Creat&amp;Program</span></code> button.</p>
</div>
<ul class="simple">
<li><p>After a successful download, the board’s BOOT pin is kept low and the chip is made to reset to boot from Flash. This example sends a string message to the PC at 2M baud rate.</p></li>
</ul>
<div class="figure align-center" id="id12">
<img alt="../../_images/tool7.png" src="../../_images/tool7.png" />
<p class="caption"><span class="caption-text">log message</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Bouffalo Lab, volunteers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>